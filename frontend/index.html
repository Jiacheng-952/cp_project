<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CP-Agent - çº¦æŸè§„åˆ’ä¸“ç”¨æ™ºèƒ½ä½“</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 25px 50px rgba(0,0,0,0.15);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50, #3498db);
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
        }

        .header h1 {
            font-size: 2.8em;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0;
            min-height: 700px;
        }

        .workflow-section {
            grid-column: 1 / -1;
            padding: 30px;
            background: #f5f7fa;
            border-bottom: 1px solid #e9ecef;
        }

        .input-section {
            padding: 30px;
            background: #f8f9fa;
            border-right: 1px solid #e9ecef;
        }

        .output-section {
            padding: 30px;
            background: white;
        }

        /* å·¥ä½œæµå¯è§†åŒ–æ ·å¼ */
        .workflow-container {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .workflow-nodes {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 20px 0;
            position: relative;
        }

        .workflow-node {
            width: 120px;
            height: 60px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.9em;
            position: relative;
            z-index: 2;
            transition: all 0.3s ease;
            border: 2px solid #e9ecef;
            background: #f8f9fa;
            color: #6c757d;
        }

        .workflow-node.active {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            border-color: #3498db;
            box-shadow: 0 4px 12px rgba(52, 152, 219, 0.3);
            transform: scale(1.05);
        }

        .workflow-node.completed {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
            border-color: #27ae60;
        }

        .workflow-node.error {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            border-color: #e74c3c;
        }

        .workflow-connector {
            flex: 1;
            height: 3px;
            background: #e9ecef;
            position: relative;
            z-index: 1;
        }

        .workflow-connector.active {
            background: linear-gradient(90deg, #3498db, #2980b9);
            height: 4px;
        }

        .workflow-connector.completed {
            background: linear-gradient(90deg, #27ae60, #2ecc71);
        }

        .workflow-status {
            margin-top: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #3498db;
        }

        .workflow-log {
            margin-top: 15px;
            max-height: 200px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.85em;
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #e9ecef;
        }

        .log-entry {
            padding: 5px 0;
            border-bottom: 1px solid #e9ecef;
        }

        .log-entry:last-child {
            border-bottom: none;
        }

        .log-time {
            color: #6c757d;
            font-size: 0.8em;
        }

        .log-message {
            color: #2c3e50;
            margin-left: 10px;
        }

        .section-title {
            font-size: 1.4em;
            margin-bottom: 20px;
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .problem-input {
            width: 100%;
            height: 250px;
            padding: 20px;
            border: 2px solid #ddd;
            border-radius: 12px;
            font-size: 1em;
            font-family: 'Courier New', monospace;
            resize: vertical;
            margin-bottom: 20px;
            transition: all 0.3s;
            line-height: 1.5;
        }

        .problem-input:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }

        .btn {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            border: none;
            padding: 15px 35px;
            border-radius: 30px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s;
            margin-right: 10px;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(52, 152, 219, 0.4);
        }

        .btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .btn-clear {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
        }

        .btn-clear:hover {
            box-shadow: 0 8px 20px rgba(231, 76, 60, 0.4);
        }

        .btn-analyze {
            background: linear-gradient(135deg, #f39c12, #e67e22);
        }

        .btn-analyze:hover {
            box-shadow: 0 8px 20px rgba(243, 156, 18, 0.4);
        }

        .analysis-panel {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border-left: 4px solid #3498db;
        }

        .analysis-item {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 10px;
            border-left: 4px solid #3498db;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
        }

        .analysis-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.12);
        }

        .analysis-label {
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 0.95em;
        }

        .analysis-value {
            color: #2c3e50;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f8f9fa;
            padding: 10px 15px;
            border-radius: 8px;
            margin-top: 5px;
            line-height: 1.5;
            font-size: 0.95em;
        }

        .problem-type {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 600;
            margin-left: 10px;
        }

        .problem-type.cp {
            background: #e8f6f3;
            color: #16a085;
            border: 1px solid #1abc9c;
        }

        .problem-type.mp {
            background: #e8f4fd;
            color: #2980b9;
            border: 1px solid #3498db;
        }

        .problem-type.unknown {
            background: #fdf2e9;
            color: #d35400;
            border: 1px solid #e67e22;
        }

        .status-badge {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .status-badge.pending {
            background: #f8f9fa;
            color: #6c757d;
            border: 1px solid #dee2e6;
        }

        .status-badge.high {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .status-badge.medium {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }

        .status-badge.low {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .confidence-bar {
            width: 100%;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            margin: 8px 0;
            overflow: hidden;
        }

        .confidence-fill {
            height: 100%;
            background: linear-gradient(90deg, #27ae60, #2ecc71);
            border-radius: 4px;
            transition: width 0.5s ease;
        }

        .strategy-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 8px;
        }

        .strategy-tag {
            background: #e3f2fd;
            color: #1565c0;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8em;
            border: 1px solid #bbdefb;
        }

        .output-tabs {
            display: flex;
            margin-bottom: 15px;
            border-bottom: 2px solid #e9ecef;
        }

        .tab {
            padding: 12px 20px;
            cursor: pointer;
            border: none;
            background: none;
            font-size: 1em;
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
        }

        .tab.active {
            border-bottom-color: #3498db;
            color: #3498db;
            font-weight: 600;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .output-area {
            background: #f8f9fa;
            color: #2c3e50;
            padding: 25px;
            border-radius: 12px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            height: 450px;
            overflow-y: auto;
            white-space: pre-wrap;
            font-size: 0.95em;
            line-height: 1.6;
            border: 1px solid #e9ecef;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.05);
        }
        
        .solution-metrics {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-bottom: 20px;
            padding: 20px;
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            border-radius: 12px;
            border: 1px solid #dee2e6;
        }
        
        .metric-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        
        .metric-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .metric-label {
            font-size: 0.9em;
            color: #6c757d;
            margin-bottom: 5px;
            font-weight: 500;
        }
        
        .metric-value {
            font-size: 1.2em;
            font-weight: 700;
            color: #2c3e50;
        }

        .solution-highlight {
            background: linear-gradient(120deg, #a8edea 0%, #fed6e3 100%);
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            border-left: 4px solid #3498db;
        }

        .constraint-item {
            background: #e8f5e8;
            padding: 10px 15px;
            margin: 8px 0;
            border-radius: 6px;
            border-left: 3px solid #27ae60;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        .variable-item {
            background: #e3f2fd;
            padding: 10px 15px;
            margin: 8px 0;
            border-radius: 6px;
            border-left: 3px solid #2196f3;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }

        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            overflow-x: auto;
        }

        .log-entry {
            padding: 8px 12px;
            margin: 4px 0;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 0.85em;
        }

        .log-info {
            background: #e3f2fd;
            color: #1565c0;
        }

        .log-success {
            background: #e8f5e8;
            color: #2e7d32;
        }

        .log-warning {
            background: #fff3e0;
            color: #ef6c00;
        }

        .log-error {
            background: #ffebee;
            color: #c62828;
        }

        .solution-panel {
            background: #e8f6f3;
            border: 2px solid #1abc9c;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
        }

        .solution-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .solution-title {
            font-size: 1.2em;
            font-weight: 600;
            color: #16a085;
        }

        .solution-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 15px;
        }

        .metric {
            background: white;
            padding: 12px;
            border-radius: 8px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .metric-value {
            font-size: 1.4em;
            font-weight: 600;
            color: #2c3e50;
        }

        .metric-label {
            font-size: 0.9em;
            color: #7f8c8d;
            margin-top: 5px;
        }

        .status-bar {
            background: #34495e;
            color: white;
            padding: 20px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .status {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #2ecc71;
            animation: pulse 2s infinite;
        }

        .status-indicator.offline {
            background: #e74c3c;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        .examples {
            margin-top: 20px;
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .example-btn {
            background: #ecf0f1;
            color: #2c3e50;
            border: 1px solid #bdc3c7;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.85em;
            display: inline-flex;
            align-items: center;
            gap: 5px;
            white-space: nowrap;
            flex-shrink: 0;
        }

        .example-btn:hover {
            background: #3498db;
            color: white;
            border-color: #3498db;
            transform: translateY(-2px);
        }

        .loading {
            display: none;
            text-align: center;
            color: #5a6c7d;
            margin: 25px 0;
            background: #f8f9fa;
            padding: 25px;
            border-radius: 12px;
            border: 1px solid #e9ecef;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }

        .spinner {
            border: 4px solid rgba(52, 152, 219, 0.2);
            border-top: 4px solid #3498db;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1.5s linear infinite;
            margin: 0 auto 20px;
            box-shadow: 0 4px 12px rgba(52, 152, 219, 0.3);
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
        }

        .progress {
            height: 100%;
            background: linear-gradient(90deg, #3498db, #2980b9, #9b59b6);
            width: 0%;
            transition: width 0.5s ease;
            position: relative;
            overflow: hidden;
        }

        .progress::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .error-message {
            background: #ffebee;
            color: #c62828;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #e53935;
            margin: 15px 0;
            display: none;
        }

        .success-message {
            background: #e8f5e8;
            color: #2e7d32;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #4caf50;
            margin: 15px 0;
            display: none;
        }

        .analysis-animation {
            animation: fadeInUp 0.6s ease;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (max-width: 1024px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .input-section, .analysis-section {
                border-right: none;
                border-bottom: 1px solid #e9ecef;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¯ CP-Agent - çº¦æŸè§„åˆ’ä¸“ç”¨æ™ºèƒ½ä½“</h1>
            <p>ä¸“ä¸ºçº¦æŸè§„åˆ’é—®é¢˜è®¾è®¡çš„æ™ºèƒ½æ±‚è§£ç³»ç»Ÿï¼Œä½¿ç”¨OR-Tools CP-SATæ±‚è§£å™¨</p>
        </div>

        <div class="status-bar">
            <div class="status">
                <div class="status-indicator" id="statusIndicator"></div>
                <span id="statusText">æ£€æŸ¥æœåŠ¡å™¨çŠ¶æ€...</span>
            </div>
            <div id="serverInfo">æœåŠ¡å™¨: localhost:8000 | ç‰ˆæœ¬: 1.0.0 (CPä¸“ç”¨ç‰ˆ)</div>
        </div>

        <div class="main-content">
            <!-- å·¥ä½œæµå¯è§†åŒ–åŒºåŸŸ -->
            <div class="workflow-section">
                <h2 class="section-title">ğŸ”„ CPä¸“ç”¨å·¥ä½œæµ</h2>
                <div class="workflow-container">
                    <div class="workflow-nodes">
                        <div class="workflow-node" id="node-classifier">åˆ†ç±»å™¨</div>
                        <div class="workflow-connector" id="connector-classifier-modeler"></div>
                        <div class="workflow-node" id="node-modeler">å»ºæ¨¡å™¨</div>
                        <div class="workflow-connector" id="connector-modeler-verifier"></div>
                        <div class="workflow-node" id="node-verifier">éªŒè¯å™¨</div>
                        <div class="workflow-connector" id="connector-verifier-corrector"></div>
                        <div class="workflow-node" id="node-corrector">ä¿®æ­£å™¨</div>
                        <div class="workflow-connector" id="connector-corrector-visualizer"></div>
                        <div class="workflow-node" id="node-visualizer">å¯è§†åŒ–å™¨</div>
                        <div class="workflow-connector" id="connector-visualizer-reporter"></div>
                        <div class="workflow-node" id="node-reporter">æŠ¥å‘Šå™¨</div>
                    </div>
                    <div class="workflow-status">
                        <div><strong>å½“å‰çŠ¶æ€ï¼š</strong> <span id="workflowStatus">ç­‰å¾…å¼€å§‹</span></div>
                        <div><strong>æ‰§è¡Œæ­¥éª¤ï¼š</strong> <span id="workflowStep">0</span></div>
                        <div><strong>ä¿®æ­£æ¬¡æ•°ï¼š</strong> <span id="correctionCount">0</span></div>
                    </div>
                    <div class="workflow-log" id="workflowLog">
                        <div class="log-entry">
                            <span class="log-time">[ç³»ç»Ÿ]</span>
                            <span class="log-message">CPä¸“ç”¨å·¥ä½œæµå·²åˆå§‹åŒ–ï¼Œç­‰å¾…é—®é¢˜è¾“å…¥...</span>
                        </div>
                    </div>
                    
                    <!-- èŠ‚ç‚¹æ‰§è¡Œç»“æœé¢æ¿ -->
                    <div class="node-results-panel" id="nodeResultsPanel" style="display: none;">
                        <h3 style="margin-bottom: 15px; color: #2c3e50; border-bottom: 2px solid #3498db; padding-bottom: 8px;">ğŸ“Š èŠ‚ç‚¹æ‰§è¡Œè¯¦æƒ…</h3>
                        <div id="nodeResultsContent">
                            <!-- èŠ‚ç‚¹ç»“æœå°†åŠ¨æ€æ·»åŠ åˆ°è¿™é‡Œ -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- è¾“å…¥åŒºåŸŸ -->
            <div class="input-section">
                <h2 class="section-title">ğŸ“ é—®é¢˜è¾“å…¥</h2>
                <textarea 
                    id="problemInput" 
                    class="problem-input" 
                    placeholder="è¯·è¾“å…¥æ‚¨çš„çº¦æŸè§„åˆ’é—®é¢˜æè¿°...

ä¾‹å¦‚ï¼š
å‘˜å·¥æ’ç­é—®é¢˜ï¼š
å…¬å¸æœ‰20åå‘˜å·¥éœ€è¦åˆ†é…åˆ°6ä¸ªä¸åŒçš„ç­æ¬¡ï¼Œæ¯ä¸ªç­æ¬¡æœ‰ä¸åŒçš„éœ€æ±‚äººæ•°...

æˆ–è€…ï¼š
è½¦è¾†è·¯å¾„é—®é¢˜ï¼š
éœ€è¦ä¸ºé…é€è½¦é˜Ÿè§„åˆ’æœ€ä¼˜è·¯çº¿ï¼Œæ»¡è¶³æ—¶é—´çª—å’Œå®¹é‡çº¦æŸ...

ç³»ç»Ÿå°†ç›´æ¥ä½¿ç”¨CP-SATæ±‚è§£å™¨è¿›è¡Œæ±‚è§£ï¼">
                </textarea>
                
                <div class="examples">
                    <strong>ğŸ“‹ ç¤ºä¾‹é—®é¢˜ï¼š</strong><br>
                    <button class="example-btn" onclick="loadExample('scheduling')">ğŸ“… å‘˜å·¥æ’ç­</button>
                    <button class="example-btn" onclick="loadExample('vrp')">ğŸšš è½¦è¾†è·¯å¾„</button>
                    <button class="example-btn" onclick="loadExample('assignment')">ğŸ“‹ ä»»åŠ¡åˆ†é…</button>
                    <button class="example-btn" onclick="loadExample('packing')">ğŸ“¦ è£…ç®±é—®é¢˜</button>
                    <button class="example-btn" onclick="loadExample('scheduling_easy')">âš™ï¸ è°ƒåº¦é—®é¢˜-ç®€å•</button>
                    <button class="example-btn" onclick="loadExample('scheduling_medium')">âš™ï¸ è°ƒåº¦é—®é¢˜-ä¸­ç­‰</button>
                    <button class="example-btn" onclick="loadExample('scheduling_hard')">âš™ï¸ è°ƒåº¦é—®é¢˜-å›°éš¾</button>
                    <button class="example-btn" onclick="loadExample('scheduling_super')">âš™ï¸ è°ƒåº¦é—®é¢˜-è¶…çº§éš¾</button>
                </div>

                <div style="margin-top: 20px;">
                    <button id="solveBtn" class="btn" onclick="solveProblem()">
                        ğŸš€ æ±‚è§£CPé—®é¢˜
                    </button>
                    <button class="btn btn-clear" onclick="clearAll()">
                        ğŸ—‘ï¸ æ¸…ç©ºæ‰€æœ‰
                    </button>
                </div>

                <div id="errorMessage" class="error-message">
                    <strong>âŒ é”™è¯¯ä¿¡æ¯</strong>
                    <p id="errorText"></p>
                </div>

                <div id="successMessage" class="success-message">
                    <strong>âœ… æ“ä½œæˆåŠŸ</strong>
                    <p id="successText"></p>
                </div>

                <div id="loading" class="loading">
                    <div class="spinner"></div>
                    <p id="loadingText">æ­£åœ¨æ±‚è§£CPé—®é¢˜ï¼Œè¯·ç¨å€™...</p>
                    <div class="progress-bar">
                        <div class="progress" id="progressBar"></div>
                    </div>
                </div>
            </div>

            <!-- è¾“å‡ºåŒºåŸŸ -->
            <div class="output-section">
                <h2 class="section-title">ğŸ“ˆ æ±‚è§£ç»“æœ</h2>
                
                <!-- è§£å†³æ–¹æ¡ˆæŒ‡æ ‡é¢æ¿ -->
                <div id="solutionMetrics" class="solution-metrics" style="display: none;">
                    <div class="metric-item">
                        <span class="metric-label">æœ€ä¼˜å€¼</span>
                        <span id="optimalValue" class="metric-value">-</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-label">æ±‚è§£æ—¶é—´</span>
                        <span id="solutionTime" class="metric-value">-</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-label">çº¦æŸæ•°é‡</span>
                        <span id="constraints" class="metric-value">-</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-label">å˜é‡æ•°é‡</span>
                        <span id="variables" class="metric-value">-</span>
                    </div>
                    <div class="metric-item">
                        <span class="metric-label">å¯è¡Œè§£</span>
                        <span id="feasibleSolution" class="metric-value">-</span>
                    </div>
                </div>
                
                <div class="output-tabs">
                    <button class="tab active" onclick="switchTab('solution')">ğŸ’¡ è§£å†³æ–¹æ¡ˆ</button>
                    <button class="tab" onclick="switchTab('model')">ğŸ“ æ•°å­¦æ¨¡å‹</button>
                    <button class="tab" onclick="switchTab('code')">ğŸ’» ä»£ç å®ç°</button>
                    <button class="tab" onclick="switchTab('logs')">ğŸ“‹ æ±‚è§£æ—¥å¿—</button>
                </div>

                <div id="solutionTab" class="tab-content active">
                    <div id="solutionOutput" class="output-area">
æ¬¢è¿ä½¿ç”¨CP-Agentçº¦æŸè§„åˆ’ä¸“ç”¨ç³»ç»Ÿï¼

è¯·åœ¨ä¸Šæ–¹è¾“å…¥æ‚¨çš„çº¦æŸè§„åˆ’é—®é¢˜ï¼Œç³»ç»Ÿå°†ï¼š
1. ğŸ” ç›´æ¥ä½¿ç”¨CP-SATæ±‚è§£å™¨
2. ğŸš€ ç”Ÿæˆå®Œæ•´è§£å†³æ–¹æ¡ˆ
3. ğŸ“Š æä¾›è¯¦ç»†çš„ç»“æœåˆ†æ
                    </div>
                </div>

                <div id="modelTab" class="tab-content">
                    <div id="modelOutput" class="output-area">
çº¦æŸè§„åˆ’æ•°å­¦æ¨¡å‹å°†åœ¨æ­¤æ˜¾ç¤º...
                    </div>
                </div>

                <div id="codeTab" class="tab-content">
                    <div id="codeOutput" class="output-area">
CP-SAT Pythonä»£ç å®ç°å°†åœ¨æ­¤æ˜¾ç¤º...
                    </div>
                </div>

                <div id="logsTab" class="tab-content">
                    <div id="logsOutput" class="output-area">
CPæ±‚è§£è¿‡ç¨‹æ—¥å¿—å°†åœ¨æ­¤æ˜¾ç¤º...
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const API_BASE_URL = 'http://localhost:8000';
        
        // æ£€æŸ¥æœåŠ¡å™¨çŠ¶æ€
        async function checkServerStatus() {
            const indicator = document.getElementById('statusIndicator');
            const statusText = document.getElementById('statusText');
            
            try {
                const response = await fetch(`${API_BASE_URL}/`, { 
                    method: 'GET',
                    headers: {
                        'Content-Type': 'application/json'
                    }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    indicator.className = 'status-indicator';
                    statusText.textContent = `æœåŠ¡å™¨è¿è¡Œæ­£å¸¸ - ${data.message}`;
                    return true;
                }
            } catch (error) {
                console.error('æœåŠ¡å™¨è¿æ¥å¤±è´¥:', error);
            }
            
            indicator.className = 'status-indicator offline';
            statusText.textContent = 'æœåŠ¡å™¨è¿æ¥å¤±è´¥';
            return false;
        }

        // å·¥ä½œæµå¯è§†åŒ–ç›¸å…³å‡½æ•°
        function resetWorkflowVisualization() {
            // é‡ç½®æ‰€æœ‰èŠ‚ç‚¹çŠ¶æ€
            document.querySelectorAll('.workflow-node').forEach(node => {
                node.classList.remove('active', 'completed', 'error');
            });
            
            // é‡ç½®æ‰€æœ‰è¿æ¥çº¿çŠ¶æ€
            document.querySelectorAll('.workflow-connector').forEach(connector => {
                connector.classList.remove('active', 'completed');
            });
            
            // é‡ç½®çŠ¶æ€ä¿¡æ¯
            document.getElementById('workflowStatus').textContent = 'ç­‰å¾…å¼€å§‹';
            document.getElementById('workflowStep').textContent = '0';
            document.getElementById('correctionCount').textContent = '0';
            
            // æ¸…ç©ºæ—¥å¿—
            document.getElementById('workflowLog').innerHTML = `
                <div class="log-entry">
                    <span class="log-time">[ç³»ç»Ÿ]</span>
                    <span class="log-message">CPä¸“ç”¨å·¥ä½œæµå·²åˆå§‹åŒ–ï¼Œç­‰å¾…é—®é¢˜è¾“å…¥...</span>
                </div>
            `;
        }
        
        function updateWorkflowNode(nodeName, status, message = '') {
            // å¤„ç†ç‰¹æ®ŠèŠ‚ç‚¹åç§°ï¼Œç‰¹åˆ«æ˜¯"unknown"
            let elementId = `node-${nodeName}`;
            
            // å¦‚æœæ˜¯"unknown"èŠ‚ç‚¹ï¼Œæˆ‘ä»¬ä¸æ›´æ–°ç‰¹å®šèŠ‚ç‚¹ï¼Œè€Œæ˜¯æ˜¾ç¤ºé€šç”¨çŠ¶æ€
            if (nodeName === 'unknown') {
                document.getElementById('workflowStatus').textContent = 'æ­£åœ¨æ‰§è¡Œä¸­...';
                // æ·»åŠ æ—¥å¿—ä½†ä¸æ›´æ–°ç‰¹å®šèŠ‚ç‚¹çš„è§†è§‰çŠ¶æ€
                if (message) {
                    addWorkflowLog(message, status === 'error' ? 'error' : 'info');
                }
                return;
            }
            
            const nodeElement = document.getElementById(elementId);
            if (!nodeElement) {
                console.warn(`æœªæ‰¾åˆ°èŠ‚ç‚¹å…ƒç´ : ${elementId}`);
                // å³ä½¿æ‰¾ä¸åˆ°ç‰¹å®šèŠ‚ç‚¹ï¼Œä¹Ÿè¦æ›´æ–°çŠ¶æ€æ–‡æœ¬å’Œæ·»åŠ æ—¥å¿—
                const statusText = {
                    'active': 'æ­£åœ¨æ‰§è¡Œ',
                    'completed': 'å·²å®Œæˆ',
                    'error': 'æ‰§è¡Œå¤±è´¥'
                };
                document.getElementById('workflowStatus').textContent = statusText[status] || 'æœªçŸ¥çŠ¶æ€';
                
                if (message) {
                    addWorkflowLog(message, status === 'error' ? 'error' : 'info');
                }
                return;
            }
            
            // æ›´æ–°èŠ‚ç‚¹çŠ¶æ€
            nodeElement.classList.remove('active', 'completed', 'error');
            nodeElement.classList.add(status);
            
            // æ›´æ–°çŠ¶æ€æ–‡æœ¬
            const statusText = {
                'active': 'æ­£åœ¨æ‰§è¡Œ',
                'completed': 'å·²å®Œæˆ',
                'error': 'æ‰§è¡Œå¤±è´¥'
            };
            document.getElementById('workflowStatus').textContent = statusText[status] || 'æœªçŸ¥çŠ¶æ€';
            
            // æ·»åŠ æ—¥å¿—
            if (message) {
                addWorkflowLog(message, status === 'error' ? 'error' : 'info');
            }
        }
        
        function updateWorkflowConnector(fromNode, toNode, status) {
            const connectorElement = document.getElementById(`connector-${fromNode}-${toNode}`);
            if (!connectorElement) return;
            
            connectorElement.classList.remove('active', 'completed');
            connectorElement.classList.add(status);
        }
        
        function addWorkflowLog(message, type = 'info') {
            const logContainer = document.getElementById('workflowLog');
            const timestamp = new Date().toLocaleTimeString();
            
            const logEntry = document.createElement('div');
            logEntry.className = 'log-entry';
            
            const logTime = document.createElement('span');
            logTime.className = 'log-time';
            logTime.textContent = `[${timestamp}]`;
            
            const logMessage = document.createElement('span');
            logMessage.className = 'log-message';
            logMessage.textContent = message;
            
            logEntry.appendChild(logTime);
            logEntry.appendChild(logMessage);
            
            logContainer.appendChild(logEntry);
            
            // è‡ªåŠ¨æ»šåŠ¨åˆ°åº•éƒ¨
            logContainer.scrollTop = logContainer.scrollHeight;
        }
        
        function updateWorkflowStep(step) {
            document.getElementById('workflowStep').textContent = step;
        }
        
        function updateCorrectionCount(count) {
            document.getElementById('correctionCount').textContent = count;
        }

        // æ±‚è§£CPé—®é¢˜
        async function solveProblem() {
            const problemText = document.getElementById('problemInput').value.trim();
            if (!problemText) {
                showError('è¯·è¾“å…¥é—®é¢˜æè¿°ï¼');
                return;
            }

            hideMessages();
            resetWorkflowVisualization();
            showLoading('æ­£åœ¨æ±‚è§£CPé—®é¢˜...');
            updateProgress(5);
            
            // æ¸…ç©ºèŠ‚ç‚¹ç»“æœé¢æ¿
            clearNodeResults();

            try {
                // ç«‹å³è°ƒç”¨åç«¯APIæ±‚è§£ï¼Œä¸è¿›è¡Œä»»ä½•å‰ç½®æ¨¡æ‹Ÿ
                addWorkflowLog('æ­£åœ¨è°ƒç”¨åç«¯APIæ±‚è§£CPé—®é¢˜...');
                
                const response = await fetch('http://localhost:8000/api/chat/stream', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        messages: [
                            {
                                role: "user",
                                content: problemText
                            }
                        ],
                        thread_id: "__default__",
                        resources: [],
                        max_plan_iterations: 5,
                        max_step_num: 10,
                        max_search_results: 5,
                        auto_accepted_plan: false
                    })
                });
                
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                // å¤„ç†æµå¼å“åº”
                const reader = response.body.getReader();
                const decoder = new TextDecoder();
                let fullResponse = '';
                let currentNode = '';
                let lastNode = '';
                let stepCount = 0;
                let correctionCount = 0;
                let nodeStartTime = Date.now();
                
                let processing = true;
                let currentEventType = '';
                while (processing) {
                    const { done, value } = await reader.read();
                    if (done) {
                        processing = false;
                        break;
                    }
                    
                    const chunk = decoder.decode(value, { stream: true });
                    const lines = chunk.split('\n');
                    
                    for (const line of lines) {
                        if (line.startsWith('event: ')) {
                            // ä¿å­˜å½“å‰äº‹ä»¶ç±»å‹
                            currentEventType = line.slice(7).trim();
                            continue;
                        }
                        if (line.startsWith('data: ')) {
                            const data = line.slice(6);
                            if (data === '[DONE]') {
                                processing = false;
                                break;
                            }
                            try {
                                const json = JSON.parse(data);
                                
                                // åªå¤„ç†å·¥ä½œæµè¿›åº¦äº‹ä»¶
                                if (currentEventType === 'workflow_progress') {
                                    const newNode = json.workflow_node || 'unknown';
                                    stepCount = json.step_count || 0;
                                    correctionCount = json.correction_count || 0;
                                    
                                    // å¦‚æœèŠ‚ç‚¹å‘ç”Ÿå˜åŒ–ï¼Œè®°å½•ä¸Šä¸€ä¸ªèŠ‚ç‚¹çš„æ‰§è¡Œæ—¶é—´å¹¶æ˜¾ç¤ºç»“æœ
                                    if (newNode !== currentNode && currentNode !== '') {
                                        const nodeEndTime = Date.now();
                                        const executionTime = nodeEndTime - nodeStartTime;
                                        
                                        // æ˜¾ç¤ºä¸Šä¸€ä¸ªèŠ‚ç‚¹çš„ç»“æœ
                                        addNodeResult(
                                            getNodeDisplayName(lastNode),
                                            json.node_result || 'æ— è¿”å›ç»“æœ',
                                            executionTime,
                                            lastNode
                                        );
                                        
                                        // æ›´æ–°èŠ‚ç‚¹çŠ¶æ€
                                        updateWorkflowNode(lastNode, 'completed');
                                        // æ›´æ–°è¿æ¥å™¨çŠ¶æ€
                                        updateWorkflowConnector(lastNode, newNode, 'completed');
                                        
                                        // é‡ç½®è®¡æ—¶å™¨
                                        nodeStartTime = Date.now();
                                    }
                                    
                                    currentNode = newNode;
                                    
                                    // æ›´æ–°å·¥ä½œæµæ­¥éª¤
                                    updateWorkflowStep(stepCount);
                                    
                                    // æ›´æ–°ä¿®æ­£æ¬¡æ•°
                                    if (correctionCount > 0) {
                                        updateCorrectionCount(correctionCount);
                                    }
                                    
                                    // æ›´æ–°å½“å‰èŠ‚ç‚¹çŠ¶æ€
                                    updateWorkflowNode(currentNode, 'active', json.content || '');
                                    
                                    // æ·»åŠ æ—¥å¿—
                                    if (json.content && json.content !== '') {
                                        addWorkflowLog(json.content);
                                    }
                                    
                                    // ä¿å­˜æœ€ç»ˆå“åº”å†…å®¹
                                    if (json.content) {
                                        fullResponse += json.content + '\n';
                                    }
                                    
                                    lastNode = currentNode;
                                }
                            } catch (e) {
                                console.error('Error parsing JSON:', e);
                            }
                        }
                    }
                }
                
                // æ ‡è®°æœ€åä¸€ä¸ªèŠ‚ç‚¹ä¸ºå®Œæˆ
                if (lastNode !== '') {
                    const finalExecutionTime = Date.now() - nodeStartTime;
                    addNodeResult(
                        getNodeDisplayName(lastNode),
                        'èŠ‚ç‚¹æ‰§è¡Œå®Œæˆ',
                        finalExecutionTime,
                        lastNode
                    );
                    updateWorkflowNode(lastNode, 'completed');
                }
                
                // è§£ææœ€ç»ˆç»“æœ
                const solution = parseBackendResponse(fullResponse);
                
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                updateWorkflowNode('reporter', 'completed');
                addWorkflowLog('æœ€ç»ˆæŠ¥å‘Šç”Ÿæˆå®Œæˆ');
                
                // æ›´æ–°ç»“æœå±•ç¤º
                updateSolutionDisplay(solution);
                
                updateProgress(100);
                setTimeout(() => {
                    hideLoading();
                    showSuccess('CPé—®é¢˜æ±‚è§£å®Œæˆï¼');
                }, 500);
                
            } catch (error) {
                console.error('æ±‚è§£å¤±è´¥:', error);
                hideLoading();
                showError('é—®é¢˜æ±‚è§£å¤±è´¥ï¼š' + error.message);
            }
        }
        
        // è·å–èŠ‚ç‚¹æ˜¾ç¤ºåç§°
        function getNodeDisplayName(nodeId) {
            const nodeNames = {
                'classifier': 'é—®é¢˜åˆ†ç±»å™¨',
                'modeler': 'CPå»ºæ¨¡å™¨',
                'solver': 'æ±‚è§£å™¨',
                'verifier': 'éªŒè¯å™¨',
                'corrector': 'æ ¡æ­£å™¨',
                'visualizer': 'å¯è§†åŒ–å™¨',
                'reporter': 'æŠ¥å‘Šå™¨'
            };
            return nodeNames[nodeId] || nodeId;
        }

        // æ·»åŠ èŠ‚ç‚¹ç»“æœåˆ°æ˜¾ç¤ºé¢æ¿
        function addNodeResult(nodeName, result, executionTime, nodeType) {
            const panel = document.getElementById('nodeResultsPanel');
            const content = document.getElementById('nodeResultsContent');
            
            // æ˜¾ç¤ºé¢æ¿
            panel.style.display = 'block';
            
            // åˆ›å»ºç»“æœå…ƒç´ 
            const resultElement = document.createElement('div');
            resultElement.className = 'node-result-item';
            resultElement.style.marginBottom = '15px';
            resultElement.style.padding = '15px';
            resultElement.style.borderRadius = '8px';
            resultElement.style.backgroundColor = '#f8f9fa';
            resultElement.style.borderLeft = '4px solid #3498db';
            resultElement.style.boxShadow = '0 2px 4px rgba(0,0,0,0.1)';
            
            // æ ¹æ®èŠ‚ç‚¹ç±»å‹è®¾ç½®ä¸åŒçš„é¢œè‰²
            let nodeColor = '#3498db';
            let nodeIcon = 'âš™ï¸';
            
            switch(nodeType) {
                case 'classifier':
                    nodeColor = '#e74c3c';
                    nodeIcon = 'ğŸ“Š';
                    break;
                case 'modeler':
                    nodeColor = '#2ecc71';
                    nodeIcon = 'ğŸ§®';
                    break;
                case 'solver':
                    nodeColor = '#9b59b6';
                    nodeIcon = 'ğŸ”';
                    break;
                case 'verifier':
                    nodeColor = '#f39c12';
                    nodeIcon = 'âœ…';
                    break;
                case 'corrector':
                    nodeColor = '#e67e22';
                    nodeIcon = 'ğŸ”§';
                    break;
                case 'visualizer':
                    nodeColor = '#1abc9c';
                    nodeIcon = 'ğŸ“ˆ';
                    break;
                case 'reporter':
                    nodeColor = '#34495e';
                    nodeIcon = 'ğŸ“‹';
                    break;
            }
            
            resultElement.style.borderLeftColor = nodeColor;
            
            // æ ¼å¼åŒ–ç»“æœæ•°æ®
            let formattedResult = result;
            if (typeof result === 'object') {
                try {
                    formattedResult = JSON.stringify(result, null, 2);
                } catch (e) {
                    formattedResult = String(result);
                }
            }
            
            // æ·»åŠ å†…å®¹
            resultElement.innerHTML = `
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                    <h4 style="margin: 0; color: #2c3e50; font-size: 1.1em;">${nodeIcon} ${nodeName}</h4>
                    <span style="background-color: ${nodeColor}; color: white; padding: 4px 8px; border-radius: 4px; font-size: 0.8em;">${nodeType}</span>
                </div>
                <div style="margin-bottom: 8px;"><strong>æ‰§è¡Œæ—¶é—´:</strong> <span style="color: #e74c3c; font-weight: bold;">${executionTime}ms</span></div>
                <div style="margin-bottom: 8px;"><strong>è¿”å›ç»“æœ:</strong></div>
                <div style="margin-top: 5px; padding: 10px; background-color: white; border-radius: 4px; font-family: 'Courier New', monospace; font-size: 0.85em; line-height: 1.4; max-height: 200px; overflow-y: auto; border: 1px solid #ddd;">
                    <pre style="margin: 0; white-space: pre-wrap; word-wrap: break-word;">${formattedResult}</pre>
                </div>
            `;
            
            content.appendChild(resultElement);
            
            // æ»šåŠ¨åˆ°æœ€æ–°ç»“æœ
            resultElement.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }
        
        // æ¸…ç©ºèŠ‚ç‚¹ç»“æœé¢æ¿
        function clearNodeResults() {
            const content = document.getElementById('nodeResultsContent');
            content.innerHTML = '';
            const panel = document.getElementById('nodeResultsPanel');
            panel.style.display = 'none';
        }

        // è§£æåç«¯APIå“åº”
        function parseBackendResponse(response) {
            // è¿™é‡Œéœ€è¦æ ¹æ®åç«¯å®é™…è¿”å›çš„æ ¼å¼è¿›è¡Œè§£æ
            // æš‚æ—¶ä½¿ç”¨ä¸€ä¸ªç®€å•çš„è§£æé€»è¾‘ï¼Œåç»­éœ€è¦æ ¹æ®åç«¯APIçš„å®é™…å“åº”æ ¼å¼è°ƒæ•´
            
            // å°è¯•ä»å“åº”ä¸­æå–å…³é”®ä¿¡æ¯
            let optimalValue = 'æœªçŸ¥';
            let solutionTime = 'æœªçŸ¥';
            let constraintsCount = 'æœªçŸ¥';
            let variablesCount = 'æœªçŸ¥';
            let hasFeasibleSolution = false;
            
            // å¦‚æœå“åº”æ˜¯JSONæ ¼å¼ï¼Œå°è¯•è§£æ
            try {
                const jsonData = JSON.parse(response);
                if (jsonData.optimal_value) optimalValue = jsonData.optimal_value;
                if (jsonData.solution_time) solutionTime = jsonData.solution_time;
                if (jsonData.constraints_count) constraintsCount = jsonData.constraints_count;
                if (jsonData.variables_count) variablesCount = jsonData.variables_count;
                if (jsonData.has_feasible_solution !== undefined) hasFeasibleSolution = jsonData.has_feasible_solution;
            } catch (e) {
                // å¦‚æœä¸æ˜¯JSONæ ¼å¼ï¼Œå°è¯•ä»æ–‡æœ¬ä¸­æå–
                const lines = response.split('\n');
                for (const line of lines) {
                    if (line.includes('æœ€ä¼˜å€¼') || line.includes('ç›®æ ‡å€¼')) {
                        optimalValue = line.split(':')[1]?.trim() || 'æ‰¾åˆ°';
                    }
                    if (line.includes('æ±‚è§£æ—¶é—´')) {
                        solutionTime = line.split(':')[1]?.trim() || 'æœªçŸ¥';
                    }
                    if (line.includes('çº¦æŸæ•°é‡')) {
                        constraintsCount = line.split(':')[1]?.trim() || 'æœªçŸ¥';
                    }
                    if (line.includes('å˜é‡æ•°é‡')) {
                        variablesCount = line.split(':')[1]?.trim() || 'æœªçŸ¥';
                    }
                    // æ£€æŸ¥æ˜¯å¦æœ‰å¯è¡Œè§£çš„ä¿¡æ¯
                    if (line.includes('å¯è¡Œè§£çŠ¶æ€') || line.includes('Feasible Solution') || line.includes('å­˜åœ¨å¯è¡Œè§£')) {
                        hasFeasibleSolution = true;
                    }
                }
            }
            
            return {
                optimal_value: optimalValue,
                solution_time: solutionTime,
                constraints_count: constraintsCount,
                variables_count: variablesCount,
                has_feasible_solution: hasFeasibleSolution,
                solution_text: response,
                model_text: response,
                code_text: response,
                logs_text: response
            };
        }

        // æ›´æ–°è§£å†³æ–¹æ¡ˆæ˜¾ç¤º
        function updateSolutionDisplay(solution) {
            // æ›´æ–°æŒ‡æ ‡
            document.getElementById('optimalValue').textContent = solution.optimal_value;
            document.getElementById('solutionTime').textContent = solution.solution_time;
            document.getElementById('constraints').textContent = solution.constraints_count;
            document.getElementById('variables').textContent = solution.variables_count;
            
            // æ›´æ–°å¯è¡Œè§£çŠ¶æ€
            const feasibleSolutionElement = document.getElementById('feasibleSolution');
            if (solution.has_feasible_solution !== undefined) {
                feasibleSolutionElement.textContent = solution.has_feasible_solution ? 'æ˜¯' : 'å¦';
                feasibleSolutionElement.style.color = solution.has_feasible_solution ? '#27ae60' : '#e74c3c';
            } else {
                feasibleSolutionElement.textContent = 'æœªçŸ¥';
                feasibleSolutionElement.style.color = '#7f8c8d';
            }
            
            // æ˜¾ç¤ºæŒ‡æ ‡é¢æ¿
            document.getElementById('solutionMetrics').style.display = 'grid';
            
            // æ›´æ–°è§£å†³æ–¹æ¡ˆæ–‡æœ¬ï¼Œæ·»åŠ å¯è¡Œè§£ä¿¡æ¯
            let solutionText = solution.solution_text;
            if (solution.has_feasible_solution !== undefined) {
                // å¦‚æœæ˜¯CSPé—®é¢˜ä¸”æ‰¾åˆ°äº†å¯è¡Œè§£ï¼Œæ›´æ–°æ˜¾ç¤º
                if (solution.has_feasible_solution && solution.optimal_value === 'æœªçŸ¥') {
                    solutionText = `ğŸ‰ çº¦æŸæ»¡è¶³é—®é¢˜æ±‚è§£å®Œæˆï¼

<div class="solution-highlight">
<strong>ğŸ“Š å¯è¡Œæ€§éªŒè¯ç»“æœ</strong>
â€¢ å¯è¡Œè§£çŠ¶æ€: âœ… å­˜åœ¨å¯è¡Œè§£
â€¢ æ±‚è§£æ—¶é—´: ${solution.solution_time}
â€¢ çº¦æŸæ•°é‡: ${solution.constraints_count}ä¸ª
â€¢ å˜é‡æ•°é‡: ${solution.variables_count}ä¸ª
</div>

âœ… æ‰€æœ‰çº¦æŸæ¡ä»¶å¾—åˆ°æ»¡è¶³
ğŸ” é—®é¢˜ç±»å‹: çº¦æŸæ»¡è¶³é—®é¢˜(CSP)
âš™ï¸ æ±‚è§£å™¨: CP-SAT

<strong>ğŸ“‹ å…³é”®ç»“æœï¼š</strong>
â€¢ é—®é¢˜å­˜åœ¨å¯è¡Œè§£
â€¢ æ‰€æœ‰çº¦æŸæ¡ä»¶å‡è¢«æ»¡è¶³
â€¢ è§£å†³æ–¹æ¡ˆéªŒè¯é€šè¿‡

è¯¦ç»†ç»“æœè¯·æŸ¥çœ‹å„æ ‡ç­¾é¡µ...`;
                }
                // å¦‚æœæ²¡æœ‰å¯è¡Œè§£ï¼Œä¹Ÿæ›´æ–°æ˜¾ç¤º
                else if (!solution.has_feasible_solution) {
                    solutionText = `âŒ çº¦æŸæ»¡è¶³é—®é¢˜æ— è§£ï¼

<div class="solution-highlight">
<strong>ğŸ“Š å¯è¡Œæ€§éªŒè¯ç»“æœ</strong>
â€¢ å¯è¡Œè§£çŠ¶æ€: âŒ ä¸å­˜åœ¨å¯è¡Œè§£
â€¢ æ±‚è§£æ—¶é—´: ${solution.solution_time}
â€¢ çº¦æŸæ•°é‡: ${solution.constraints_count}ä¸ª
â€¢ å˜é‡æ•°é‡: ${solution.variables_count}ä¸ª
</div>

âš ï¸ é—®é¢˜çº¦æŸæ¡ä»¶æ— æ³•åŒæ—¶æ»¡è¶³
ğŸ” é—®é¢˜ç±»å‹: çº¦æŸæ»¡è¶³é—®é¢˜(CSP)
âš™ï¸ æ±‚è§£å™¨: CP-SAT

<strong>ğŸ“‹ åˆ†æç»“æœï¼š</strong>
â€¢ é—®é¢˜ä¸å­˜åœ¨å¯è¡Œè§£
â€¢ çº¦æŸæ¡ä»¶ä¹‹é—´å­˜åœ¨å†²çª
â€¢ éœ€è¦è°ƒæ•´é—®é¢˜çº¦æŸæ¡ä»¶

è¯¦ç»†ç»“æœè¯·æŸ¥çœ‹å„æ ‡ç­¾é¡µ...`;
                }
            }
            
            // æ›´æ–°å„æ ‡ç­¾é¡µå†…å®¹ï¼ˆä½¿ç”¨innerHTMLä»¥æ”¯æŒHTMLæ ¼å¼ï¼‰
            document.getElementById('solutionOutput').innerHTML = solutionText;
            document.getElementById('modelOutput').innerHTML = solution.model_text;
            document.getElementById('codeOutput').innerHTML = solution.code_text;
            document.getElementById('logsOutput').innerHTML = solution.logs_text;
        }

        // æ ‡ç­¾é¡µåˆ‡æ¢
        function switchTab(tabName) {
            // éšè—æ‰€æœ‰æ ‡ç­¾é¡µå†…å®¹
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // ç§»é™¤æ‰€æœ‰æ ‡ç­¾çš„æ¿€æ´»çŠ¶æ€
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // æ˜¾ç¤ºé€‰ä¸­çš„æ ‡ç­¾é¡µ
            document.getElementById(tabName + 'Tab').classList.add('active');
            
            // æ¿€æ´»é€‰ä¸­çš„æ ‡ç­¾
            event.target.classList.add('active');
        }

        // åŠ è½½ç¤ºä¾‹é—®é¢˜
        function loadExample(type) {
            const examples = {
                scheduling: `å‘˜å·¥æ’ç­é—®é¢˜ï¼š

æŸå…¬å¸æœ‰20åå‘˜å·¥éœ€è¦åˆ†é…åˆ°6ä¸ªä¸åŒçš„ç­æ¬¡ã€‚æ¯ä¸ªç­æ¬¡æœ‰ä¸åŒçš„éœ€æ±‚äººæ•°ï¼š
- ç­æ¬¡1ï¼šéœ€è¦4äºº
- ç­æ¬¡2ï¼šéœ€è¦6äºº
- ç­æ¬¡3ï¼šéœ€è¦8äºº
- ç­æ¬¡4ï¼šéœ€è¦7äºº
- ç­æ¬¡5ï¼šéœ€è¦5äºº
- ç­æ¬¡6ï¼šéœ€è¦3äºº

çº¦æŸæ¡ä»¶ï¼š
1. æ¯ä½å‘˜å·¥åªèƒ½è¢«åˆ†é…åˆ°ä¸€ä¸ªç­æ¬¡
2. æ¯ä¸ªç­æ¬¡çš„éœ€æ±‚äººæ•°å¿…é¡»å¾—åˆ°æ»¡è¶³
3. æ¯ä½å‘˜å·¥æœ€å¤šåªèƒ½è¿ç»­å·¥ä½œä¸¤ä¸ªç­æ¬¡

è¯·ä¸ºè¿™20åå‘˜å·¥å®‰æ’åˆé€‚çš„ç­æ¬¡åˆ†é…æ–¹æ¡ˆã€‚`,
                
                vrp: `è½¦è¾†è·¯å¾„é—®é¢˜ï¼š

æŸé…é€ä¸­å¿ƒéœ€è¦ä¸º5ä¸ªå®¢æˆ·é…é€è´§ç‰©ï¼Œæ¯ä¸ªå®¢æˆ·æœ‰ä¸åŒçš„è´§ç‰©éœ€æ±‚å’Œæ—¶é—´çª—ï¼š
å®¢æˆ·1ï¼šéœ€æ±‚é‡3å•ä½ï¼Œæ—¶é—´çª—[9:00-11:00]
å®¢æˆ·2ï¼šéœ€æ±‚é‡5å•ä½ï¼Œæ—¶é—´çª—[10:00-12:00]
å®¢æˆ·3ï¼šéœ€æ±‚é‡2å•ä½ï¼Œæ—¶é—´çª—[11:00-13:00]
å®¢æˆ·4ï¼šéœ€æ±‚é‡4å•ä½ï¼Œæ—¶é—´çª—[13:00-15:00]
å®¢æˆ·5ï¼šéœ€æ±‚é‡6å•ä½ï¼Œæ—¶é—´çª—[14:00-16:00]

è½¦è¾†ä¿¡æ¯ï¼š
- è½¦è¾†å®¹é‡ï¼š15å•ä½
- è½¦è¾†é€Ÿåº¦ï¼šæ¯å°æ—¶è¡Œé©¶è·ç¦»å•ä½
- é…é€ä¸­å¿ƒä½ç½®ï¼šåæ ‡(0,0)
- å®¢æˆ·ä½ç½®ï¼šåˆ†åˆ«ä¸º(2,3), (5,1), (8,4), (6,7), (3,9)

è¯·è§„åˆ’æœ€ä¼˜é…é€è·¯çº¿ï¼Œä½¿å¾—ï¼š
1. æ»¡è¶³æ‰€æœ‰å®¢æˆ·éœ€æ±‚
2. ä¸è¶…è¿‡è½¦è¾†å®¹é‡é™åˆ¶
3. åœ¨è§„å®šæ—¶é—´çª—å†…å®Œæˆé…é€
4. æ€»è¡Œé©¶è·ç¦»æœ€çŸ­`,
                
                assignment: `ä»»åŠ¡åˆ†é…é—®é¢˜ï¼š

æœ‰8ä¸ªé¡¹ç›®éœ€è¦åˆ†é…ç»™5ä¸ªå›¢é˜Ÿå®Œæˆã€‚æ¯ä¸ªé¡¹ç›®çš„éš¾åº¦å’Œé¢„è®¡å®Œæˆæ—¶é—´ä¸åŒï¼š
é¡¹ç›®1ï¼šéš¾åº¦3ï¼Œé¢„è®¡æ—¶é—´10å¤©
é¡¹ç›®2ï¼šéš¾åº¦2ï¼Œé¢„è®¡æ—¶é—´8å¤©
é¡¹ç›®3ï¼šéš¾åº¦4ï¼Œé¢„è®¡æ—¶é—´15å¤©
é¡¹ç›®4ï¼šéš¾åº¦1ï¼Œé¢„è®¡æ—¶é—´5å¤©
é¡¹ç›®5ï¼šéš¾åº¦5ï¼Œé¢„è®¡æ—¶é—´20å¤©
é¡¹ç›®6ï¼šéš¾åº¦3ï¼Œé¢„è®¡æ—¶é—´12å¤©
é¡¹ç›®7ï¼šéš¾åº¦2ï¼Œé¢„è®¡æ—¶é—´7å¤©
é¡¹ç›®8ï¼šéš¾åº¦4ï¼Œé¢„è®¡æ—¶é—´18å¤©

å›¢é˜Ÿèƒ½åŠ›ï¼š
å›¢é˜ŸAï¼šæ“…é•¿éš¾åº¦1-3çš„é¡¹ç›®
å›¢é˜ŸBï¼šæ“…é•¿éš¾åº¦2-4çš„é¡¹ç›®
å›¢é˜ŸCï¼šæ“…é•¿éš¾åº¦3-5çš„é¡¹ç›®
å›¢é˜ŸDï¼šæ“…é•¿éš¾åº¦1-4çš„é¡¹ç›®
å›¢é˜ŸEï¼šæ“…é•¿éš¾åº¦2-5çš„é¡¹ç›®

çº¦æŸæ¡ä»¶ï¼š
1. æ¯ä¸ªé¡¹ç›®åªèƒ½åˆ†é…ç»™ä¸€ä¸ªå›¢é˜Ÿ
2. å›¢é˜Ÿåªèƒ½æ‰¿æ¥è‡ªå·±èƒ½åŠ›èŒƒå›´å†…çš„é¡¹ç›®
3. æ¯ä¸ªå›¢é˜Ÿæœ€å¤šæ‰¿æ¥3ä¸ªé¡¹ç›®
4. æ€»å®Œæˆæ—¶é—´å°½å¯èƒ½çŸ­

è¯·åˆç†åˆ†é…é¡¹ç›®ç»™å„ä¸ªå›¢é˜Ÿã€‚`,
                
                packing: `è£…ç®±é—®é¢˜ï¼š

æœ‰15ä¸ªä¸åŒå°ºå¯¸çš„ç‰©å“éœ€è¦è£…å…¥3ä¸ªç›¸åŒå¤§å°çš„ç®±å­ä¸­ã€‚æ¯ä¸ªç‰©å“çš„å°ºå¯¸å¦‚ä¸‹ï¼š
ç‰©å“1-5ï¼šå°ºå¯¸ä¸º2Ã—2Ã—2
ç‰©å“6-10ï¼šå°ºå¯¸ä¸º3Ã—3Ã—1
ç‰©å“11-15ï¼šå°ºå¯¸ä¸º1Ã—1Ã—4

ç®±å­å°ºå¯¸ï¼š5Ã—5Ã—5

çº¦æŸæ¡ä»¶ï¼š
1. æ¯ä¸ªç‰©å“å¿…é¡»æ”¾å…¥æŸä¸ªç®±å­
2. ç‰©å“ä¸èƒ½é‡å 
3. ç‰©å“ä¸èƒ½è¶…å‡ºç®±å­è¾¹ç•Œ
4. æ¯ä¸ªç®±å­æœ€å¤šå®¹çº³10ä¸ªç‰©å“

è¯·ç¡®å®šå¦‚ä½•å°†è¿™äº›ç‰©å“è£…å…¥ç®±å­ï¼Œä½¿å¾—ç©ºé—´åˆ©ç”¨ç‡æœ€é«˜ã€‚`,
                
                scheduling_easy: `ä½œä¸šè½¦é—´è°ƒåº¦é—®é¢˜ - ç®€å•éš¾åº¦ï¼š

3ä¸ªå·¥ä»¶åœ¨3å°æœºå™¨ä¸ŠåŠ å·¥ï¼Œæ¯ä¸ªå·¥ä»¶æœ‰3é“å·¥åºï¼Œæ¯é“å·¥åºå¯ä»¥åœ¨å¤šå°å¯é€‰æœºå™¨ä¸ŠåŠ å·¥ã€‚

å·¥ä»¶1ï¼š
- å·¥åº1ï¼šæœºå™¨[1,2]ï¼ŒåŠ å·¥æ—¶é—´[3,4]
- å·¥åº2ï¼šæœºå™¨[2,3]ï¼ŒåŠ å·¥æ—¶é—´[2,3]  
- å·¥åº3ï¼šæœºå™¨[1,3]ï¼ŒåŠ å·¥æ—¶é—´[4,5]

å·¥ä»¶2ï¼š
- å·¥åº1ï¼šæœºå™¨[1,3]ï¼ŒåŠ å·¥æ—¶é—´[2,3]
- å·¥åº2ï¼šæœºå™¨[2,3]ï¼ŒåŠ å·¥æ—¶é—´[3,4]
- å·¥åº3ï¼šæœºå™¨[1,2]ï¼ŒåŠ å·¥æ—¶é—´[2,3]

å·¥ä»¶3ï¼š
- å·¥åº1ï¼šæœºå™¨[2,3]ï¼ŒåŠ å·¥æ—¶é—´[4,5]
- å·¥åº2ï¼šæœºå™¨[1,2]ï¼ŒåŠ å·¥æ—¶é—´[3,4]
- å·¥åº3ï¼šæœºå™¨[1,3]ï¼ŒåŠ å·¥æ—¶é—´[2,3]

çº¦æŸæ¡ä»¶ï¼š
1. æ¯é“å·¥åºå¿…é¡»åœ¨ä¸€å°æœºå™¨ä¸Šå®Œæˆ
2. åŒä¸€å°æœºå™¨ä¸Šä¸èƒ½åŒæ—¶åŠ å·¥å¤šä¸ªå·¥åº
3. åŒä¸€å·¥ä»¶çš„å·¥åºå¿…é¡»æŒ‰é¡ºåºåŠ å·¥
4. æœ€å°åŒ–æœ€å¤§å®Œå·¥æ—¶é—´ï¼ˆmakespanï¼‰

è¯·åŒæ—¶å†³å®šæœºå™¨åˆ†é…å’Œå·¥åºæ’åºã€‚`,
                
                scheduling_medium: `ä½œä¸šè½¦é—´è°ƒåº¦é—®é¢˜ - ä¸­ç­‰éš¾åº¦ï¼š

5ä¸ªå·¥ä»¶åœ¨4å°æœºå™¨ä¸ŠåŠ å·¥ï¼Œæ¯ä¸ªå·¥ä»¶æœ‰4-5é“å·¥åºï¼Œæ¯é“å·¥åºå¯ä»¥åœ¨å¤šå°å¯é€‰æœºå™¨ä¸ŠåŠ å·¥ã€‚

å·¥ä»¶1ï¼ˆ4é“å·¥åºï¼‰ï¼š
- å·¥åº1ï¼šæœºå™¨[1,2,3]ï¼ŒåŠ å·¥æ—¶é—´[5,6,4]
- å·¥åº2ï¼šæœºå™¨[2,3,4]ï¼ŒåŠ å·¥æ—¶é—´[4,5,3]
- å·¥åº3ï¼šæœºå™¨[1,4]ï¼ŒåŠ å·¥æ—¶é—´[6,5]
- å·¥åº4ï¼šæœºå™¨[3,4]ï¼ŒåŠ å·¥æ—¶é—´[4,3]

å·¥ä»¶2ï¼ˆ5é“å·¥åºï¼‰ï¼š
- å·¥åº1ï¼šæœºå™¨[1,3]ï¼ŒåŠ å·¥æ—¶é—´[3,4]
- å·¥åº2ï¼šæœºå™¨[2,4]ï¼ŒåŠ å·¥æ—¶é—´[5,4]
- å·¥åº3ï¼šæœºå™¨[1,2,3]ï¼ŒåŠ å·¥æ—¶é—´[4,3,5]
- å·¥åº4ï¼šæœºå™¨[3,4]ï¼ŒåŠ å·¥æ—¶é—´[3,4]
- å·¥åº5ï¼šæœºå™¨[1,4]ï¼ŒåŠ å·¥æ—¶é—´[5,4]

å·¥ä»¶3ï¼ˆ4é“å·¥åºï¼‰ï¼š
- å·¥åº1ï¼šæœºå™¨[2,3,4]ï¼ŒåŠ å·¥æ—¶é—´[6,5,4]
- å·¥åº2ï¼šæœºå™¨[1,3]ï¼ŒåŠ å·¥æ—¶é—´[4,5]
- å·¥åº3ï¼šæœºå™¨[2,4]ï¼ŒåŠ å·¥æ—¶é—´[3,4]
- å·¥åº4ï¼šæœºå™¨[1,3,4]ï¼ŒåŠ å·¥æ—¶é—´[5,4,3]

å·¥ä»¶4ï¼ˆ5é“å·¥åºï¼‰ï¼š
- å·¥åº1ï¼šæœºå™¨[1,2,4]ï¼ŒåŠ å·¥æ—¶é—´[4,5,3]
- å·¥åº2ï¼šæœºå™¨[2,3]ï¼ŒåŠ å·¥æ—¶é—´[3,4]
- å·¥åº3ï¼šæœºå™¨[1,4]ï¼ŒåŠ å·¥æ—¶é—´[5,4]
- å·¥åº4ï¼šæœºå™¨[3,4]ï¼ŒåŠ å·¥æ—¶é—´[4,3]
- å·¥åº5ï¼šæœºå™¨[1,2]ï¼ŒåŠ å·¥æ—¶é—´[3,4]

å·¥ä»¶5ï¼ˆ4é“å·¥åºï¼‰ï¼š
- å·¥åº1ï¼šæœºå™¨[1,3,4]ï¼ŒåŠ å·¥æ—¶é—´[5,4,3]
- å·¥åº2ï¼šæœºå™¨[2,4]ï¼ŒåŠ å·¥æ—¶é—´[4,3]
- å·¥åº3ï¼šæœºå™¨[1,2,3]ï¼ŒåŠ å·¥æ—¶é—´[3,4,5]
- å·¥åº4ï¼šæœºå™¨[2,3,4]ï¼ŒåŠ å·¥æ—¶é—´[4,3,5]

çº¦æŸæ¡ä»¶ï¼š
1. æ¯é“å·¥åºå¿…é¡»åœ¨ä¸€å°æœºå™¨ä¸Šå®Œæˆ
2. åŒä¸€å°æœºå™¨ä¸Šä¸èƒ½åŒæ—¶åŠ å·¥å¤šä¸ªå·¥åº
3. åŒä¸€å·¥ä»¶çš„å·¥åºå¿…é¡»æŒ‰é¡ºåºåŠ å·¥
4. æœ€å°åŒ–æœ€å¤§å®Œå·¥æ—¶é—´ï¼ˆmakespanï¼‰

è¯·åŒæ—¶å†³å®šæœºå™¨åˆ†é…å’Œå·¥åºæ’åºã€‚`,
                
                scheduling_hard: `ä½œä¸šè½¦é—´è°ƒåº¦é—®é¢˜ - å›°éš¾éš¾åº¦ï¼š

8ä¸ªå·¥ä»¶åœ¨6å°æœºå™¨ä¸ŠåŠ å·¥ï¼Œæ¯ä¸ªå·¥ä»¶æœ‰5-6é“å·¥åºï¼Œæ¯é“å·¥åºå¯ä»¥åœ¨å¤šå°å¯é€‰æœºå™¨ä¸ŠåŠ å·¥ã€‚

å·¥ä»¶1ï¼ˆ6é“å·¥åºï¼‰ï¼š
- å·¥åº1ï¼šæœºå™¨[1,2,3,4]ï¼ŒåŠ å·¥æ—¶é—´[7,8,6,9]
- å·¥åº2ï¼šæœºå™¨[2,3,5,6]ï¼ŒåŠ å·¥æ—¶é—´[6,7,8,5]
- å·¥åº3ï¼šæœºå™¨[1,4,6]ï¼ŒåŠ å·¥æ—¶é—´[8,7,9]
- å·¥åº4ï¼šæœºå™¨[3,5,6]ï¼ŒåŠ å·¥æ—¶é—´[7,6,8]
- å·¥åº5ï¼šæœºå™¨[2,4,5]ï¼ŒåŠ å·¥æ—¶é—´[6,8,7]
- å·¥åº6ï¼šæœºå™¨[1,3,6]ï¼ŒåŠ å·¥æ—¶é—´[9,7,8]

å·¥ä»¶2ï¼ˆ5é“å·¥åºï¼‰ï¼š
- å·¥åº1ï¼šæœºå™¨[1,3,5]ï¼ŒåŠ å·¥æ—¶é—´[8,7,9]
- å·¥åº2ï¼šæœºå™¨[2,4,6]ï¼ŒåŠ å·¥æ—¶é—´[7,8,6]
- å·¥åº3ï¼šæœºå™¨[1,2,5,6]ï¼ŒåŠ å·¥æ—¶é—´[6,7,8,9]
- å·¥åº4ï¼šæœºå™¨[3,4,5]ï¼ŒåŠ å·¥æ—¶é—´[8,7,6]
- å·¥åº5ï¼šæœºå™¨[2,3,6]ï¼ŒåŠ å·¥æ—¶é—´[7,8,9]

å·¥ä»¶3ï¼ˆ6é“å·¥åºï¼‰ï¼š
- å·¥åº1ï¼šæœºå™¨[2,3,4,5]ï¼ŒåŠ å·¥æ—¶é—´[9,8,7,6]
- å·¥åº2ï¼šæœºå™¨[1,4,6]ï¼ŒåŠ å·¥æ—¶é—´[7,8,9]
- å·¥åº3ï¼šæœºå™¨[2,5,6]ï¼ŒåŠ å·¥æ—¶é—´[8,7,9]
- å·¥åº4ï¼šæœºå™¨[1,3,4]ï¼ŒåŠ å·¥æ—¶é—´[6,7,8]
- å·¥åº5ï¼šæœºå™¨[3,5,6]ï¼ŒåŠ å·¥æ—¶é—´[9,8,7]
- å·¥åº6ï¼šæœºå™¨[2,4,5]ï¼ŒåŠ å·¥æ—¶é—´[7,6,8]

å·¥ä»¶4ï¼ˆ5é“å·¥åºï¼‰ï¼š
- å·¥åº1ï¼šæœºå™¨[1,2,3,6]ï¼ŒåŠ å·¥æ—¶é—´[8,7,9,6]
- å·¥åº2ï¼šæœºå™¨[3,4,5]ï¼ŒåŠ å·¥æ—¶é—´[7,8,9]
- å·¥åº3ï¼šæœºå™¨[2,4,6]ï¼ŒåŠ å·¥æ—¶é—´[9,7,8]
- å·¥åº4ï¼šæœºå™¨[1,5,6]ï¼ŒåŠ å·¥æ—¶é—´[6,8,7]
- å·¥åº5ï¼šæœºå™¨[3,4,5]ï¼ŒåŠ å·¥æ—¶é—´[8,7,9]

å·¥ä»¶5ï¼ˆ6é“å·¥åºï¼‰ï¼š
- å·¥åº1ï¼šæœºå™¨[1,3,4,5]ï¼ŒåŠ å·¥æ—¶é—´[7,8,9,6]
- å·¥åº2ï¼šæœºå™¨[2,4,6]ï¼ŒåŠ å·¥æ—¶é—´[8,7,9]
- å·¥åº3ï¼šæœºå™¨[1,3,5]ï¼ŒåŠ å·¥æ—¶é—´[9,8,7]
- å·¥åº4ï¼šæœºå™¨[2,4,6]ï¼ŒåŠ å·¥æ—¶é—´[7,9,8]
- å·¥åº5ï¼šæœºå™¨[1,3,5,6]ï¼ŒåŠ å·¥æ—¶é—´[6,7,8,9]
- å·¥åº6ï¼šæœºå™¨[2,4,5]ï¼ŒåŠ å·¥æ—¶é—´[8,7,9]

å·¥ä»¶6ï¼ˆ5é“å·¥åºï¼‰ï¼š
- å·¥åº1ï¼šæœºå™¨[2,3,4,6]ï¼ŒåŠ å·¥æ—¶é—´[9,8,7,6]
- å·¥åº2ï¼šæœºå™¨[1,5,6]ï¼ŒåŠ å·¥æ—¶é—´[7,8,9]
- å·¥åº3ï¼šæœºå™¨[3,4,5]ï¼ŒåŠ å·¥æ—¶é—´[8,7,9]
- å·¥åº4ï¼šæœºå™¨[1,2,6]ï¼ŒåŠ å·¥æ—¶é—´[6,7,8]
- å·¥åº5ï¼šæœºå™¨[3,4,5]ï¼ŒåŠ å·¥æ—¶é—´[9,8,7]

å·¥ä»¶7ï¼ˆ6é“å·¥åºï¼‰ï¼š
- å·¥åº1ï¼šæœºå™¨[1,2,4,5]ï¼ŒåŠ å·¥æ—¶é—´[8,9,7,6]
- å·¥åº2ï¼šæœºå™¨[3,5,6]ï¼ŒåŠ å·¥æ—¶é—´[7,8,9]
- å·¥åº3ï¼šæœºå™¨[1,4,6]ï¼ŒåŠ å·¥æ—¶é—´[9,7,8]
- å·¥åº4ï¼šæœºå™¨[2,3,5]ï¼ŒåŠ å·¥æ—¶é—´[6,7,8]
- å·¥åº5ï¼šæœºå™¨[1,3,4,6]ï¼ŒåŠ å·¥æ—¶é—´[8,9,7,6]
- å·¥åº6ï¼šæœºå™¨[2,5,6]ï¼ŒåŠ å·¥æ—¶é—´[7,8,9]

å·¥ä»¶8ï¼ˆ5é“å·¥åºï¼‰ï¼š
- å·¥åº1ï¼šæœºå™¨[1,3,4,6]ï¼ŒåŠ å·¥æ—¶é—´[9,8,7,6]
- å·¥åº2ï¼šæœºå™¨[2,5,6]ï¼ŒåŠ å·¥æ—¶é—´[7,8,9]
- å·¥åº3ï¼šæœºå™¨[1,4,5]ï¼ŒåŠ å·¥æ—¶é—´[8,7,9]
- å·¥åº4ï¼šæœºå™¨[2,3,6]ï¼ŒåŠ å·¥æ—¶é—´[6,7,8]
- å·¥åº5ï¼šæœºå™¨[1,3,4,5]ï¼ŒåŠ å·¥æ—¶é—´[9,8,7,6]

çº¦æŸæ¡ä»¶ï¼š
1. æ¯é“å·¥åºå¿…é¡»åœ¨ä¸€å°æœºå™¨ä¸Šå®Œæˆ
2. åŒä¸€å°æœºå™¨ä¸Šä¸èƒ½åŒæ—¶åŠ å·¥å¤šä¸ªå·¥åº
3. åŒä¸€å·¥ä»¶çš„å·¥åºå¿…é¡»æŒ‰é¡ºåºåŠ å·¥
4. æœ€å°åŒ–æœ€å¤§å®Œå·¥æ—¶é—´ï¼ˆmakespanï¼‰

è¯·åŒæ—¶å†³å®šæœºå™¨åˆ†é…å’Œå·¥åºæ’åºã€‚`,
                
                scheduling_super: `ä½œä¸šè½¦é—´è°ƒåº¦é—®é¢˜ - è¶…çº§éš¾åº¦ï¼š

12ä¸ªå·¥ä»¶åœ¨8å°æœºå™¨ä¸ŠåŠ å·¥ï¼Œæ¯ä¸ªå·¥ä»¶æœ‰6-8é“å·¥åºï¼Œæ¯é“å·¥åºå¯ä»¥åœ¨å¤šå°å¯é€‰æœºå™¨ä¸ŠåŠ å·¥ã€‚

å·¥ä»¶1ï¼ˆ8é“å·¥åºï¼‰ï¼š
- å·¥åº1ï¼šæœºå™¨[1,2,3,4,5]ï¼ŒåŠ å·¥æ—¶é—´[12,11,13,10,14]
- å·¥åº2ï¼šæœºå™¨[2,3,4,6,7]ï¼ŒåŠ å·¥æ—¶é—´[11,12,10,13,9]
- å·¥åº3ï¼šæœºå™¨[1,3,5,7,8]ï¼ŒåŠ å·¥æ—¶é—´[13,11,12,10,14]
- å·¥åº4ï¼šæœºå™¨[2,4,6,7,8]ï¼ŒåŠ å·¥æ—¶é—´[10,12,11,13,9]
- å·¥åº5ï¼šæœºå™¨[1,3,5,6,8]ï¼ŒåŠ å·¥æ—¶é—´[12,13,11,10,14]
- å·¥åº6ï¼šæœºå™¨[2,4,5,7,8]ï¼ŒåŠ å·¥æ—¶é—´[11,10,12,13,9]
- å·¥åº7ï¼šæœºå™¨[1,2,3,6,7]ï¼ŒåŠ å·¥æ—¶é—´[13,12,11,10,14]
- å·¥åº8ï¼šæœºå™¨[4,5,6,7,8]ï¼ŒåŠ å·¥æ—¶é—´[10,11,12,13,9]

å·¥ä»¶2ï¼ˆ7é“å·¥åºï¼‰ï¼š
- å·¥åº1ï¼šæœºå™¨[1,3,4,5,7]ï¼ŒåŠ å·¥æ—¶é—´[14,12,11,13,10]
- å·¥åº2ï¼šæœºå™¨[2,4,6,7,8]ï¼ŒåŠ å·¥æ—¶é—´[11,13,12,10,14]
- å·¥åº3ï¼šæœºå™¨[1,2,5,6,8]ï¼ŒåŠ å·¥æ—¶é—´[12,11,13,10,14]
- å·¥åº4ï¼šæœºå™¨[3,4,5,7,8]ï¼ŒåŠ å·¥æ—¶é—´[13,12,11,10,9]
- å·¥åº5ï¼šæœºå™¨[1,2,3,6,7]ï¼ŒåŠ å·¥æ—¶é—´[11,12,13,10,14]
- å·¥åº6ï¼šæœºå™¨[4,5,6,7,8]ï¼ŒåŠ å·¥æ—¶é—´[12,11,10,13,9]
- å·¥åº7ï¼šæœºå™¨[1,3,4,5,8]ï¼ŒåŠ å·¥æ—¶é—´[13,12,11,10,14]

å·¥ä»¶3ï¼ˆ8é“å·¥åºï¼‰ï¼š
- å·¥åº1ï¼šæœºå™¨[2,3,4,5,6]ï¼ŒåŠ å·¥æ—¶é—´[12,13,11,10,14]
- å·¥åº2ï¼šæœºå™¨[1,4,6,7,8]ï¼ŒåŠ å·¥æ—¶é—´[11,12,13,10,9]
- å·¥åº3ï¼šæœºå™¨[2,3,5,7,8]ï¼ŒåŠ å·¥æ—¶é—´[13,12,11,10,14]
- å·¥åº4ï¼šæœºå™¨[1,4,6,7,8]ï¼ŒåŠ å·¥æ—¶é—´[10,11,12,13,9]
- å·¥åº5ï¼šæœºå™¨[2,3,5,6,8]ï¼ŒåŠ å·¥æ—¶é—´[12,13,11,10,14]
- å·¥åº6ï¼šæœºå™¨[1,4,5,7,8]ï¼ŒåŠ å·¥æ—¶é—´[11,10,12,13,9]
- å·¥åº7ï¼šæœºå™¨[2,3,4,6,7]ï¼ŒåŠ å·¥æ—¶é—´[13,12,11,10,14]
- å·¥åº8ï¼šæœºå™¨[1,5,6,7,8]ï¼ŒåŠ å·¥æ—¶é—´[10,11,12,13,9]

å·¥ä»¶4ï¼ˆ6é“å·¥åºï¼‰ï¼š
- å·¥åº1ï¼šæœºå™¨[1,2,3,4,8]ï¼ŒåŠ å·¥æ—¶é—´[14,12,11,13,10]
- å·¥åº2ï¼šæœºå™¨[2,3,5,6,7]ï¼ŒåŠ å·¥æ—¶é—´[11,13,12,10,14]
- å·¥åº3ï¼šæœºå™¨[1,4,6,7,8]ï¼ŒåŠ å·¥æ—¶é—´[12,11,13,10,14]
- å·¥åº4ï¼šæœºå™¨[3,4,5,7,8]ï¼ŒåŠ å·¥æ—¶é—´[13,12,11,10,9]
- å·¥åº5ï¼šæœºå™¨[1,2,3,6,7]ï¼ŒåŠ å·¥æ—¶é—´[11,12,13,10,14]
- å·¥åº6ï¼šæœºå™¨[4,5,6,7,8]ï¼ŒåŠ å·¥æ—¶é—´[12,11,10,13,9]

å·¥ä»¶5ï¼ˆ7é“å·¥åºï¼‰ï¼š
- å·¥åº1ï¼šæœºå™¨[1,3,4,5,6]ï¼ŒåŠ å·¥æ—¶é—´[13,12,11,10,14]
- å·¥åº2ï¼šæœºå™¨[2,4,6,7,8]ï¼ŒåŠ å·¥æ—¶é—´[11,12,13,10,9]
- å·¥åº3ï¼šæœºå™¨[1,3,5,7,8]ï¼ŒåŠ å·¥æ—¶é—´[12,13,11,10,14]
- å·¥åº4ï¼šæœºå™¨[2,4,6,7,8]ï¼ŒåŠ å·¥æ—¶é—´[10,11,12,13,9]
- å·¥åº5ï¼šæœºå™¨[1,3,5,6,8]ï¼ŒåŠ å·¥æ—¶é—´[13,12,11,10,14]
- å·¥åº6ï¼šæœºå™¨[2,4,5,7,8]ï¼ŒåŠ å·¥æ—¶é—´[11,10,12,13,9]
- å·¥åº7ï¼šæœºå™¨[1,2,3,6,7]ï¼ŒåŠ å·¥æ—¶é—´[12,13,11,10,14]

å·¥ä»¶6ï¼ˆ8é“å·¥åºï¼‰ï¼š
- å·¥åº1ï¼šæœºå™¨[2,3,4,5,7]ï¼ŒåŠ å·¥æ—¶é—´[14,12,11,13,10]
- å·¥åº2ï¼šæœºå™¨[1,4,6,7,8]ï¼ŒåŠ å·¥æ—¶é—´[11,13,12,10,14]
- å·¥åº3ï¼šæœºå™¨[2,3,5,6,8]ï¼ŒåŠ å·¥æ—¶é—´[12,11,13,10,14]
- å·¥åº4ï¼šæœºå™¨[1,4,5,7,8]ï¼ŒåŠ å·¥æ—¶é—´[13,12,11,10,9]
- å·¥åº5ï¼šæœºå™¨[2,3,4,6,7]ï¼ŒåŠ å·¥æ—¶é—´[11,12,13,10,14]
- å·¥åº6ï¼šæœºå™¨[1,5,6,7,8]ï¼ŒåŠ å·¥æ—¶é—´[12,11,10,13,9]
- å·¥åº7ï¼šæœºå™¨[2,3,4,5,8]ï¼ŒåŠ å·¥æ—¶é—´[13,12,11,10,14]
- å·¥åº8ï¼šæœºå™¨[1,6,7,8]ï¼ŒåŠ å·¥æ—¶é—´[10,11,12,13]

å·¥ä»¶7ï¼ˆ7é“å·¥åºï¼‰ï¼š
- å·¥åº1ï¼šæœºå™¨[1,2,3,4,5]ï¼ŒåŠ å·¥æ—¶é—´[12,13,11,10,14]
- å·¥åº2ï¼šæœºå™¨[2,3,4,6,7]ï¼ŒåŠ å·¥æ—¶é—´[11,12,13,10,9]
- å·¥åº3ï¼šæœºå™¨[1,3,5,7,8]ï¼ŒåŠ å·¥æ—¶é—´[13,12,11,10,14]
- å·¥åº4ï¼šæœºå™¨[2,4,6,7,8]ï¼ŒåŠ å·¥æ—¶é—´[10,11,12,13,9]
- å·¥åº5ï¼šæœºå™¨[1,3,5,6,8]ï¼ŒåŠ å·¥æ—¶é—´[12,13,11,10,14]
- å·¥åº6ï¼šæœºå™¨[2,4,5,7,8]ï¼ŒåŠ å·¥æ—¶é—´[11,10,12,13,9]
- å·¥åº7ï¼šæœºå™¨[1,2,3,6,7]ï¼ŒåŠ å·¥æ—¶é—´[13,12,11,10,14]

å·¥ä»¶8ï¼ˆ6é“å·¥åºï¼‰ï¼š
- å·¥åº1ï¼šæœºå™¨[1,2,3,4,8]ï¼ŒåŠ å·¥æ—¶é—´[14,12,11,13,10]
- å·¥åº2ï¼šæœºå™¨[2,3,5,6,7]ï¼ŒåŠ å·¥æ—¶é—´[11,13,12,10,14]
- å·¥åº3ï¼šæœºå™¨[1,4,6,7,8]ï¼ŒåŠ å·¥æ—¶é—´[12,11,13,10,14]
- å·¥åº4ï¼šæœºå™¨[3,4,5,7,8]ï¼ŒåŠ å·¥æ—¶é—´[13,12,11,10,9]
- å·¥åº5ï¼šæœºå™¨[1,2,3,6,7]ï¼ŒåŠ å·¥æ—¶é—´[11,12,13,10,14]
- å·¥åº6ï¼šæœºå™¨[4,5,6,7,8]ï¼ŒåŠ å·¥æ—¶é—´[12,11,10,13,9]

å·¥ä»¶9ï¼ˆ8é“å·¥åºï¼‰ï¼š
- å·¥åº1ï¼šæœºå™¨[2,3,4,5,6]ï¼ŒåŠ å·¥æ—¶é—´[13,12,11,10,14]
- å·¥åº2ï¼šæœºå™¨[1,4,6,7,8]ï¼ŒåŠ å·¥æ—¶é—´[11,12,13,10,9]
- å·¥åº3ï¼šæœºå™¨[2,3,5,7,8]ï¼ŒåŠ å·¥æ—¶é—´[12,13,11,10,14]
- å·¥åº4ï¼šæœºå™¨[1,4,6,7,8]ï¼ŒåŠ å·¥æ—¶é—´[10,11,12,13,9]
- å·¥åº5ï¼šæœºå™¨[2,3,5,6,8]ï¼ŒåŠ å·¥æ—¶é—´[13,12,11,10,14]
- å·¥åº6ï¼šæœºå™¨[1,4,5,7,8]ï¼ŒåŠ å·¥æ—¶é—´[11,10,12,13,9]
- å·¥åº7ï¼šæœºå™¨[2,3,4,6,7]ï¼ŒåŠ å·¥æ—¶é—´[12,13,11,10,14]
- å·¥åº8ï¼šæœºå™¨[1,5,6,7,8]ï¼ŒåŠ å·¥æ—¶é—´[10,11,12,13,9]

å·¥ä»¶10ï¼ˆ7é“å·¥åºï¼‰ï¼š
- å·¥åº1ï¼šæœºå™¨[1,3,4,5,7]ï¼ŒåŠ å·¥æ—¶é—´[14,12,11,13,10]
- å·¥åº2ï¼šæœºå™¨[2,4,6,7,8]ï¼ŒåŠ å·¥æ—¶é—´[11,13,12,10,14]
- å·¥åº3ï¼šæœºå™¨[1,2,5,6,8]ï¼ŒåŠ å·¥æ—¶é—´[12,11,13,10,14]
- å·¥åº4ï¼šæœºå™¨[3,4,5,7,8]ï¼ŒåŠ å·¥æ—¶é—´[13,12,11,10,9]
- å·¥åº5ï¼šæœºå™¨[1,2,3,6,7]ï¼ŒåŠ å·¥æ—¶é—´[11,12,13,10,14]
- å·¥åº6ï¼šæœºå™¨[4,5,6,7,8]ï¼ŒåŠ å·¥æ—¶é—´[12,11,10,13,9]
- å·¥åº7ï¼šæœºå™¨[1,3,4,5,8]ï¼ŒåŠ å·¥æ—¶é—´[13,12,11,10,14]

å·¥ä»¶11ï¼ˆ6é“å·¥åºï¼‰ï¼š
- å·¥åº1ï¼šæœºå™¨[2,3,4,5,6]ï¼ŒåŠ å·¥æ—¶é—´[12,13,11,10,14]
- å·¥åº2ï¼šæœºå™¨[1,4,6,7,8]ï¼ŒåŠ å·¥æ—¶é—´[11,12,13,10,9]
- å·¥åº3ï¼šæœºå™¨[2,3,5,7,8]ï¼ŒåŠ å·¥æ—¶é—´[13,12,11,10,14]
- å·¥åº4ï¼šæœºå™¨[1,4,6,7,8]ï¼ŒåŠ å·¥æ—¶é—´[10,11,12,13,9]
- å·¥åº5ï¼šæœºå™¨[2,3,5,6,8]ï¼ŒåŠ å·¥æ—¶é—´[12,13,11,10,14]
- å·¥åº6ï¼šæœºå™¨[1,4,5,7,8]ï¼ŒåŠ å·¥æ—¶é—´[11,10,12,13,9]

å·¥ä»¶12ï¼ˆ8é“å·¥åºï¼‰ï¼š
- å·¥åº1ï¼šæœºå™¨[1,2,3,4,5]ï¼ŒåŠ å·¥æ—¶é—´[14,12,11,13,10]
- å·¥åº2ï¼šæœºå™¨[2,3,4,6,7]ï¼ŒåŠ å·¥æ—¶é—´[11,13,12,10,14]
- å·¥åº3ï¼šæœºå™¨[1,3,5,7,8]ï¼ŒåŠ å·¥æ—¶é—´[12,11,13,10,14]
- å·¥åº4ï¼šæœºå™¨[2,4,6,7,8]ï¼ŒåŠ å·¥æ—¶é—´[13,12,11,10,9]
- å·¥åº5ï¼šæœºå™¨[1,3,5,6,8]ï¼ŒåŠ å·¥æ—¶é—´[11,12,13,10,14]
- å·¥åº6ï¼šæœºå™¨[2,4,5,7,8]ï¼ŒåŠ å·¥æ—¶é—´[12,11,10,13,9]
- å·¥åº7ï¼šæœºå™¨[1,2,3,6,7]ï¼ŒåŠ å·¥æ—¶é—´[13,12,11,10,14]
- å·¥åº8ï¼šæœºå™¨[4,5,6,7,8]ï¼ŒåŠ å·¥æ—¶é—´[10,11,12,13,9]

çº¦æŸæ¡ä»¶ï¼š
1. æ¯é“å·¥åºå¿…é¡»åœ¨ä¸€å°æœºå™¨ä¸Šå®Œæˆ
2. åŒä¸€å°æœºå™¨ä¸Šä¸èƒ½åŒæ—¶åŠ å·¥å¤šä¸ªå·¥åº
3. åŒä¸€å·¥ä»¶çš„å·¥åºå¿…é¡»æŒ‰é¡ºåºåŠ å·¥
4. æœ€å°åŒ–æœ€å¤§å®Œå·¥æ—¶é—´ï¼ˆmakespanï¼‰

è¯·åŒæ—¶å†³å®šæœºå™¨åˆ†é…å’Œå·¥åºæ’åºã€‚`
            };
            
            document.getElementById('problemInput').value = examples[type] || '';
        }

        // æ¸…ç©ºæ‰€æœ‰å†…å®¹
        function clearAll() {
            document.getElementById('problemInput').value = '';
            
            // é‡ç½®å·¥ä½œæµå¯è§†åŒ–
            resetWorkflowVisualization();
            
            // é‡ç½®è¾“å‡ºåŒºåŸŸ
            document.getElementById('solutionOutput').textContent = 'æ¬¢è¿ä½¿ç”¨CP-Agentçº¦æŸè§„åˆ’ä¸“ç”¨ç³»ç»Ÿï¼\n\nè¯·åœ¨ä¸Šæ–¹è¾“å…¥æ‚¨çš„çº¦æŸè§„åˆ’é—®é¢˜...';
            document.getElementById('modelOutput').textContent = 'çº¦æŸè§„åˆ’æ•°å­¦æ¨¡å‹å°†åœ¨æ­¤æ˜¾ç¤º...';
            document.getElementById('codeOutput').textContent = 'CP-SAT Pythonä»£ç å®ç°å°†åœ¨æ­¤æ˜¾ç¤º...';
            document.getElementById('logsOutput').textContent = 'CPæ±‚è§£è¿‡ç¨‹æ—¥å¿—å°†åœ¨æ­¤æ˜¾ç¤º...';
            
            switchTab('solution');
        }

        // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
        function showLoading(text) {
            document.getElementById('loadingText').textContent = text;
            document.getElementById('loading').style.display = 'block';
        }

        // æ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯
        function showError(message) {
            const errorElem = document.getElementById('errorMessage');
            const errorText = document.getElementById('errorText');
            errorText.textContent = message;
            errorElem.style.display = 'block';
            
            // è‡ªåŠ¨éšè—é”™è¯¯æ¶ˆæ¯
            setTimeout(() => {
                errorElem.style.display = 'none';
            }, 5000);
        }

        // æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯
        function showSuccess(message) {
            const successElem = document.getElementById('successMessage');
            const successText = document.getElementById('successText');
            successText.textContent = message;
            successElem.style.display = 'block';
            
            // è‡ªåŠ¨éšè—æˆåŠŸæ¶ˆæ¯
            setTimeout(() => {
                successElem.style.display = 'none';
            }, 3000);
        }

        // éšè—æ‰€æœ‰æ¶ˆæ¯
        function hideMessages() {
            document.getElementById('errorMessage').style.display = 'none';
            document.getElementById('successMessage').style.display = 'none';
        }

        // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
        function showLoading(text) {
            document.getElementById('loadingText').textContent = text;
            document.getElementById('loading').style.display = 'block';
        }

        // éšè—åŠ è½½çŠ¶æ€
        function hideLoading() {
            document.getElementById('loading').style.display = 'none';
            updateProgress(0);
        }

        // æ›´æ–°è¿›åº¦æ¡
        function updateProgress(percent) {
            document.getElementById('progressBar').style.width = percent + '%';
        }

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            checkServerStatus();
            // æ¯30ç§’æ£€æŸ¥ä¸€æ¬¡æœåŠ¡å™¨çŠ¶æ€
            setInterval(checkServerStatus, 30000);
        });
    </script>
</body>
</html>