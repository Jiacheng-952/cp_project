# OptAgent 前端界面

这是一个为OptAgent优化代理框架设计的Web前端界面，提供直观的用户交互体验。

## 🚀 快速开始

### 前提条件

1. **后端服务器运行中**
   ```bash
   # 在项目根目录运行
   python server.py
   ```
   确保后端服务器在 `http://localhost:8000` 正常运行

2. **Python 3.8+** 环境

### 启动前端界面

#### 方法一：使用启动脚本（推荐）
```bash
# 在项目根目录运行
python start_frontend.py
```

#### 方法二：手动启动HTTP服务器
```bash
# 进入前端目录
cd frontend

# 使用Python内置HTTP服务器
python -m http.server 3000

# 或者使用其他HTTP服务器
# npx serve . -p 3000
```

然后访问: `http://localhost:3000`

## 🌟 功能特性

### 🎯 核心功能
- **直观的问题输入**: 支持自然语言描述优化问题
- **实时结果展示**: 流式接收和显示优化过程
- **示例问题库**: 内置多个典型优化问题示例
- **响应式设计**: 支持桌面和移动设备

### 📊 界面特色
- **现代化UI设计**: 渐变背景和卡片式布局
- **实时状态监控**: 显示后端服务器连接状态
- **键盘快捷键**: Ctrl+Enter 快速求解
- **错误处理**: 友好的错误提示和解决方案

### 🔧 技术特性
- **纯前端技术**: HTML5 + CSS3 + JavaScript
- **无依赖**: 无需安装额外前端框架
- **跨平台**: 支持所有现代浏览器
- **轻量级**: 快速加载，资源占用小

## 📝 使用指南

### 1. 输入优化问题
在左侧输入框中描述您的优化问题，例如：
```
最小化成本函数：2x + 3y，约束条件：x + y ≥ 5，x ≥ 0，y ≥ 0
```

### 2. 使用示例问题
点击示例按钮快速加载预定义问题：
- **线性规划**: 基础线性优化问题
- **生产优化**: 生产计划和资源分配
- **投资组合**: 金融投资优化

### 3. 求解问题
点击"求解优化问题"按钮，系统将：
1. 发送问题到后端API
2. 实时显示优化过程
3. 展示最终结果和解决方案

### 4. 查看结果
右侧输出区域将显示：
- 数学模型建立过程
- Python代码实现
- 验证和修正步骤
- 最终优化结果

## 🔌 API接口

前端界面使用以下后端API：

### 聊天流式API
- **端点**: `POST /api/chat/stream`
- **功能**: 处理优化问题并流式返回结果
- **请求格式**:
  ```json
  {
    "messages": [
      {
        "role": "user", 
        "content": "优化问题描述"
      }
    ]
  }
  ```
- **响应格式**: Server-Sent Events (SSE)

## 🛠️ 开发说明

### 项目结构
```
frontend/
├── index.html          # 主界面文件
├── README.md           # 说明文档
└── (未来可能添加CSS/JS分离文件)
```

### 自定义配置

#### 修改API地址
在 `index.html` 中修改 `API_BASE_URL`：
```javascript
const API_BASE_URL = 'http://your-server:port';
```

#### 修改端口号
在 `start_frontend.py` 中修改端口：
```python
frontend_port = 8080  # 改为所需端口
```

### 浏览器兼容性
- Chrome 60+
- Firefox 55+
- Safari 11+
- Edge 79+

## 🐛 故障排除

### 常见问题

#### 1. 服务器连接失败
**症状**: 状态指示器显示红色，无法求解问题
**解决方案**:
- 检查后端服务器是否运行: `python server.py`
- 确认端口8000未被占用
- 检查防火墙设置

#### 2. 界面无法加载
**症状**: 浏览器显示空白页面或错误
**解决方案**:
- 检查HTTP服务器是否正常启动
- 确认 `index.html` 文件存在
- 查看浏览器控制台错误信息

#### 3. API请求失败
**症状**: 求解按钮点击后无响应或报错
**解决方案**:
- 检查网络连接
- 确认CORS配置正确
- 查看后端服务器日志

### 调试技巧

1. **打开浏览器开发者工具**
   - F12 打开控制台
   - 查看网络请求状态
   - 检查JavaScript错误

2. **检查服务器日志**
   ```bash
   # 后端服务器日志
   python server.py
   
   # 前端服务器日志
   python start_frontend.py
   ```

## 📈 未来规划

### 计划功能
- [ ] 结果可视化图表
- [ ] 问题历史记录
- [ ] 导出结果功能
- [ ] 多语言支持
- [ ] 主题切换

### 技术改进
- [ ] 模块化JavaScript
- [ ] CSS预处理器支持
- [ ] 构建工具集成
- [ ] 单元测试

## 🤝 贡献指南

欢迎贡献代码和改进建议！

1. Fork 项目
2. 创建功能分支
3. 提交更改
4. 推送到分支
5. 创建Pull Request

## 📄 许可证

本项目采用 MIT 许可证 - 详见 [LICENSE](../LICENSE) 文件

## 🙏 致谢

感谢以下开源项目：
- OptAgent 后端框架
- 现代浏览器标准
- Python 标准库