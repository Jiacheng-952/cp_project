{"id": "rail_scheduling_temp_001", "en_question": "# 临时加开列车运行图调度优化问题\n\n## 问题描述\n\n现有一个在既有的列车运行计划中临时增开新列车的问题，需在指定时间范围内调整原列车的到站与离站时间，并为新增列车安排各站的到发时刻。为确保列车在站内的必要作业时间，任意两列列车在同一车站的到发间隔必须大于给定阈值。本问题的目标是在满足列车停站时间要求与间隔约束的前提下，**尽可能减少原有列车到发时间的调整幅度，并缩短新增列车的总运行时间**。\n\n## 数据描述\n\n所需的数据都保存在\"data.xlsx\"中，下面为每个表的介绍：\n\n### 1. 车站信息（\"station\"工作表）\n\n第一列为车站名称，第二列为该站距起点的距离。各站仅一股道可用，同一时刻最多一列车停站或通过，且不允许越行。即列车必须在前车驶离后，方可进入车站。\n\n**数据格式：**\n| station | mile |\n| ------- | ---- |\n| A       | 0    |\n| B       | 50   |\n| C       | 100  |\n| D       | 170  |\n| E       | 210  |\n| F       | 250  |\n| G       | 300  |\n\n### 2. 待添加列车信息（\"train\"工作表）\n\n包括车次、速度等级，以及在各站是否停站的标识（1为停站，0为通过。通过时到发时间相同，但仍占用股道）。所有列车均依次经过A-G站，单车旅行时间等于终点站到站时间与始发站离站时间之差。\n\n**数据格式：**\n| trainNO | speed | A | B | C | D | E | F | G |\n| ------- | ----- | - | - | - | - | - | - | - |\n| G33     | 300   | 1 | 1 | 0 | 0 | 0 | 1 | 1 |\n\n### 3. 区间运行时间（\"runtime\"工作表）\n\n每行表示一个区间（格式为\"前站-后站\"），并分别给出不同速度等级列车在该区间的运行时长。列车在前站的出发时间加上对应的区间运行时分应等于列车在后站的到达时间。**注意：速度等级列名为字符串格式（'300', '350', '250', '200'）**。\n\n**数据格式：**\n| station | '300' | '350' | '250' | '200' |\n| ------- | ----- | ----- | ----- | ----- |\n| A-B     | 10    | 9     | 12    | 15    |\n| B-C     | 10    | 9     | 12    | 15    |\n| C-D     | 14    | 12    | 17    | 21    |\n| D-E     | 8     | 7     | 10    | 12    |\n| E-F     | 8     | 7     | 10    | 12    |\n| F-G     | 10    | 9     | 12    | 15    |\n\n### 4. 其他参数（\"parameter\"工作表）\n\n包括各种参数的数值。**注意：该工作表为转置格式，第一行为参数名，第二行为对应数值**。\n\n**数据格式：**\n| T   | H | MINSTOP | MAXSTOP |\n| --- | - | ------- | ------- |\n| 174 | 6 | 2       | 11      |\n\n**参数说明：**\n- T: 174 - 时间上限，所有到发时间需在[0, T]范围内\n- H: 6 - 最小间隔时间，要求同一车站任意两列车的到发时间差均不小于H分钟\n- MINSTOP: 2 - 中间站的最小停站时间约束\n- MAXSTOP: 11 - 中间站的最大停站时间约束\n\n### 5. 既有列车时刻表（\"timetable\"工作表）\n\n包括既有列车的当前运行时刻表，需要在此基础上进行调整以容纳新增列车。每行表示一个列车在某个车站的到发时刻。\n\n**数据格式：**\n| trainNO | speed | station | arrival | departure |\n| ---- | -------- | ---- | ---- | ---- |\n| G1   | 350      | A    | 0    | 2    |\n| G1   | 350      | B    | 11   | 11   |\n| G1   | 350      | C    | 29   | 29   |\n| ...  | ...      | ...  | ...  | ...  |\n\n## 重要约束条件\n\n1. **时间范围**：所有列车（包括原有列车和新增列车）的发车和到达时间均需要大于等于0，同时小于等于174分钟\n2. **间隔时间**：对于任意两列列车在任意车站，后车的到站时间减去前车的到站时间要大于等于6分钟，后车的出站时间减去前车的出站时间要大于等于6分钟\n3. **停站时间**：如果列车停站，除始发终到站外，其余车站列车停站时间最小为2分钟，最大为11分钟\n4. **始发终到特殊处理**：在始发站（A站）列车的到站时间和出站时间相同，在终到站（G站）列车的出站时间和到站时间相同\n5. **运行时间约束**：列车在前站的出发时间加上对应的区间运行时分等于列车在后站的到达时间\n6. **不允许越行**：同一时间只允许一列列车在站内停留或通过\n7. **既有列车调整**：原有列车的到发时间可以调整，但应尽量减少调整幅度\n\n## 目标函数\n\n本问题为多目标优化问题，需要同时考虑两个目标：\n\n1. **最小化原有列车调整幅度**：\n   minimize Σ|调整后时间 - 原计划时间|\n   \n2. **最小化新增列车总运行时间**：\n   minimize Σ(新增列车i在G站的到达时间 - 新增列车i在A站的出发时间)\n\n可以使用加权求和的方法将两个目标合并为一个目标函数，或采用其他多目标优化方法。\n\n## 决策变量\n\n1. 原有列车在各站的调整后到发时间\n2. 新增列车在各站的到发时间\n\n## 建模要求\n\n请基于以上说明，准确理解问题，界定参数与决策变量，分析约束条件，并建立相应的列车调度优化模型。注意写代码时，数据需要从数据文件中读取，不同的数据在不同的sheet里面。\n\n## 重要的数据读取提示\n\n在编写代码时，请特别注意以下实际的列名：\n- **station工作表**: 列名为 'station', 'mile'（车站名称和里程）\n- **train工作表**: 列名为 'trainNO', 'speed'，以及各车站名称作为列名（待添加列车信息）\n- **runtime工作表**: 第一列为 'station'，速度等级列名为字符串格式 '300', '350', '250', '200'（不是整数）\n- **parameter工作表**: 列名为 'T', 'H', 'MINSTOP', 'MAXSTOP'，参数值在第二行（索引为1）\n- **timetable工作表**: 列名为 'trainNO', 'speed', 'station', 'arrival', 'departure'（既有列车时刻表）\n\n请务必使用上述实际的列名来读取数据，以避免KeyError错误。", "en_answer": null, "type": "临时加开调度", "data_files": ["data.xlsx"]}
